# MCP Memory Service - Docker Environment Configuration
# Copy this file to .env and customize as needed

# ============================================
# Storage Backend Configuration
# ============================================

# Backend type: sqlite_vec, cloudflare, or hybrid
# For Docker, sqlite_vec is recommended (simple, fast, persistent)
MCP_MEMORY_STORAGE_BACKEND=sqlite_vec

# SQLite database path (inside container)
MCP_MEMORY_SQLITE_PATH=/app/data/sqlite_vec.db

# Backups directory
MCP_MEMORY_BACKUPS_PATH=/app/data/backups

# SQLite pragmas for better concurrency
MCP_MEMORY_SQLITE_PRAGMAS=busy_timeout=15000,journal_mode=WAL

# ============================================
# HTTP Server Configuration
# ============================================

# Enable HTTP server (required for Docker setup)
MCP_HTTP_ENABLED=true

# HTTP server host (0.0.0.0 allows external access)
MCP_HTTP_HOST=0.0.0.0

# HTTP server port
MCP_HTTP_PORT=8000

# HTTPS configuration (optional, for production)
MCP_HTTPS_ENABLED=false
MCP_HTTPS_PORT=8443
MCP_SSL_CERT_FILE=/app/certs/cert.pem
MCP_SSL_KEY_FILE=/app/certs/key.pem

# ============================================
# Embedding Model Configuration
# ============================================

# Embedding model (pre-downloaded during build)
MCP_EMBEDDING_MODEL=all-MiniLM-L6-v2

# Use ONNX for lightweight embeddings (false = use PyTorch)
MCP_MEMORY_USE_ONNX=false

# ============================================
# Logging Configuration
# ============================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================
# Optional Features
# ============================================

# Memory consolidation system (dream-inspired)
MCP_CONSOLIDATION_ENABLED=false

# mDNS service discovery (disable in containers)
MCP_MDNS_ENABLED=false

# OAuth 2.1 authentication
MCP_OAUTH_ENABLED=false

# API key authentication (recommended for production)
# Generate with: openssl rand -base64 32
# MCP_API_KEY=your-secure-api-key-here

# ============================================
# Cloudflare Backend (if using hybrid or cloudflare)
# ============================================

# Uncomment and configure if using cloudflare or hybrid backend
# CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
# CLOUDFLARE_ACCOUNT_ID=your-account-id
# CLOUDFLARE_D1_DATABASE_ID=your-d1-database-id
# CLOUDFLARE_VECTORIZE_INDEX=mcp-memory-index

# ============================================
# Hybrid Backend Configuration
# ============================================

# Hybrid backend sync settings (if using hybrid)
# MCP_HYBRID_SYNC_INTERVAL=300
# MCP_HYBRID_BATCH_SIZE=50
# MCP_HYBRID_SYNC_ON_STARTUP=true
# MCP_HYBRID_DRIFT_CHECK_INTERVAL=3600

# ============================================
# Advanced Configuration
# ============================================

# CORS origins for web dashboard
# MCP_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# Session duration (seconds)
# MCP_SESSION_DURATION=86400

# Maximum request size (bytes)
# MCP_MAX_REQUEST_SIZE=10485760

# Telemetry (disable for privacy)
HF_HUB_DISABLE_TELEMETRY=1
ANONYMIZED_TELEMETRY=false

# ============================================
# Development/Debug
# ============================================

# Enable debug mode (verbose logging)
# DEBUG=false

# Python optimization level
# PYTHONOPTIMIZE=1

# Timezone
# TZ=UTC
